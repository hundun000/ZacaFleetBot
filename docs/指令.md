

如前文所述，每个角色有特定的可用指令范围。下面列出的所有指令，并非任意角色都能使用。

本章的指令示例将以如下格式给出：

>  -> 这是一句指令示例  
>  <- 这是bot对该指令的回复示例

### 2.1 第一类指令——调用某个子指令

语法：  
`<角色名><子指令> <指令参数列表>`  
或  
`<角色名> <子指令> <指令参数列表>`

实验性功能：为了加强角色扮演感，对于同一个子指令功能，不同的角色可能通过不同的“子指令称呼”调用。

### 2.1.1 微博相关指令

### 查看最近一条微博

*<子指令>: 查看最新微博*  
*<指令参数列表>: [可选]微博用户名*

>  -> ZACA娘查看最新微博

实验性功能：

对于角色`阿米娅`，变为 *<子指令>: 看看饼*

>  -> 阿米娅看看饼

对于角色`欧根`，变为 *<子指令>: 查看镇守府情报*

>  -> 欧根查看镇守府情报

若不带`微博用户名`参数，则回复该角色订阅的所有微博用户的最新一条微博的更新时间

>  -> 阿米娅看看饼
> <- 来自：泰拉记事社，最新的饼的时间是：2021-07-09T11:00:03  
>    来自：明日方舟朝陇山，最新的饼的时间是：2021-06-28T20:15:25  
>    来自：明日方舟Arknights，最新的饼的时间是：2021-07-08T16:00:03  

若带`微博用户名`参数，则回复指定微博用户的最新一条微博的内容

>  -> 阿米娅看看饼 泰拉记事社  
> <- EP05 克洛丝的闲逛  
>    工作要懂得劳逸结合，累了就该找个舒服的地方补上个午觉！不过，可千万别睡过头了哟~  
>    ——克洛丝  
>    [图片]  
>    [图片]  
>    [图片]  
>    [图片]  
>    [图片]  


### 2.1.2 企鹅物流数据相关指令

### 查询物品掉率

查看某个物品的在所有地图里掉落率最高的几项。

*<子指令>: 查掉率*  
*<指令参数列表>: 物品名*

>  -> 阿米娅查掉率 固源岩

### 查询作战

查看某个作战的理智消耗，掉落等信息。

*<子指令>: 查作战*  
*<指令参数列表>: 作战id*

>  -> 阿米娅查作战 1-7

### 刷新缓存

拉取最新的企鹅物流信息数据。

*<子指令>: 更新企鹅物流*  

>  -> 阿米娅更新企鹅物流

### 2.1.3 事项提醒相关指令

### 创建提醒

提醒任务指的是在满足时间条件的时候发送指定消息。

*<子指令>: 创建提醒*  
*<指令参数列表>[0]: 时间条件-月。-1表示不限制。*  
*<指令参数列表>[1]: 时间条件-日。-1表示不限制。*  
*<指令参数列表>[2]: 时间条件-星期数。-1表示不限制。*  
*<指令参数列表>[3]: 时间条件-时。-1表示不限制。*  
*<指令参数列表>[4]: 时间条件-分。-1表示不限制。*  
*<指令参数列表>[5]: 时间条件-执行次数。-1表示不限制。*  
*<指令参数列表>[6]: 消息内容*  

>  -> 阿米娅创建提醒 5 1 -1 9 0 1 限时活动将于10点结束，博士请确认限时活动任务完成状态。 //这条消息将在5月1日（不论是星期几）9点0分时被bot自动发送。执行一次后失效。  

>  -> 阿米娅创建提醒 -1 -1 7 22 30 -1 博士请确认周常任务完成状态。 //这条消息将在周日（不论是几月几日）22点30分时被bot自动发送。可执行无限次。

### 查看提醒

查看已创建的提醒任务。

*<子指令>: 查看提醒*   

>  -> 阿米娅查看提醒

### 移除提醒

移除指定id的提醒任务。

*<子指令>: 移除提醒*   
*<指令参数列表>: 提醒id。由查看提醒得到。*  

>  -> 阿米娅移除提醒 29b88b93-89e2-4a3f-8ff2-b35ab13672d3

### 2.1.4 一站到底答题相关指令

更多可看[一站到底详细说明](docs/一站到底详细说明.md)

### 开始比赛

每次mcl启动后，每个群，需要执行一次开始比赛。

*<子指令>: 开始比赛*  
*<指令参数列表>[0]: 赛制选择。详见一站到底详细说明*  
*<指令参数列表>[1]: 题目包名。详见一站到底详细说明*  
*<指令参数列表>[2]: 队伍列表。多个队伍间用"&"分割。详见一站到底详细说明*  

>  -> 阿米娅开始比赛 无尽模式 questions_small 游客
>  <- 开始比赛成功

>  -> 阿米娅开始比赛 单人模式 questions_small 游客
>  <- 开始比赛成功

>  -> 阿米娅开始比赛 双人模式 questions_small 红方&白方
>  <- 开始比赛成功

### 出题

*<子指令>: 出题*  

>  -> 阿米娅出题  
>  <- 《紫罗兰永恒花园》中薇尔莉特的名字是来自？  
>     A. 紫罗兰  
>     B. 勿忘我  
>     C. 向日葵  
>     D. 玫瑰  
>     发送选项字母来回答  
>     \[图片\]  

此时，任意一个群员回答“A”、“B”、“C”、“D”均会被视为回答。

根据赛制不同，bot回复的信息内容也不同。队伍`生命`的含义对应该赛制的结束条件。

无尽模式：
>  -> A  
>  <- @回答者 回答错误QAQ  
>     正确答案是C  
>     游客 +0分  

单人模式：此时生命值对应剩余累计答题数。
>  -> A  
>  <- @回答者 回答错误QAQ  
>     正确答案是C  
>     游客 +0分  
>     队伍状态:  
>     游客 得分:0 生命:4  

双人模式：此时生命值对应该队伍剩余可连续答错题数。
>  -> A  
>  <- @回答者 回答错误QAQ  
>     正确答案是C  
>     白方 +0分  
>     队伍状态:  
>     红方 得分:0 生命:1  
>     白方 得分:1 生命:2   
> 
>     队伍变更: 白方 -> 红方  

若比赛尚未结束，可以在这之后任意时刻，再次发出`出题`指令。若比赛已结束，需要再次发出`开始比赛`指令。

### 2.2 第二类指令——快速查询

语法：  
`<参数>.`

语法尽量简短，用于每个群里最常用到的查询。

### 2.2.1 阿米娅的快速查询

| <参数> | 回复 |
|---------|--------|
| PRTS 或 prts | PRTS首页 |
| 一图流 | 一图流网站 |
| 绿票一图流 |绿票一图流网站 |
| 企鹅物流 | 企鹅物流首页 |

>  -> prts.  //得到PRTS首页链接  
>  <- http://prts.wiki/w/%E9%A6%96%E9%A1%B5

### 2.2.2 欧根的快速查询

| <参数> | 回复 |
|---------|--------|
| 任意 | 舰娘信息（数据来自kcwiki） |

>  -> 吹雪.  
>  <- 吹雪 https://zh.kcwiki.cn/wiki/%E5%90%B9%E9%9B%AA
> 吹雪[驱逐舰](12.7cm連装砲,61cm三連装魚雷,null,null)
> -20级->吹雪改[驱逐舰]
> -70级->吹雪改二[驱逐舰]

## 3. 闲聊

当群员的发言不满足该角色的任意一个指令语法，即为一句闲聊。角色也会在满足条件的情况下做出回复。

### 3.1 复读机

当群里连续3句发言相同时（包括发送相同表情/图片），角色也会回复一次该发言。

### 3.2 阿米娅的闲聊

- 当群员发言里包含“下班”，根据是否是工作时间（周一至周五9点至17点），阿米娅会做不同回复。
- 当群员发言里包含“damedane”，阿米娅会播放音频。
- 戳一戳阿米娅或特定群员，阿米娅会发送特定的图片。

### 3.3 欧根的闲聊

- 当群员发言里包含“噗噗”，欧根会发送特定的图片。

## 4. 非主动功能

指的是不由用户发言触发的功能。

- 微博推送
- 预设的整点报时
- 用户创建的事项提醒满足时间条件
