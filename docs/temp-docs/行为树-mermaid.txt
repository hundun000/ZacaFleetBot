flowchart TD
    classDef corehighlight fill:#f96,stroke:#333,stroke-width:3px;

    root("root")
    router{"Router<br>as PrioritySelector"}
    root --> router

    subgraph characterLayer
    amiyaRoot{"Amiya<br>as Sequence"}
    amiyaFunRoute{"FunRoute<br>as PrioritySelector"}
    amiyaParser[("Parser<br>as Action<br>write blackboard")]
    amiyaRoot --> |1st|amiyaParser
    amiyaRoot --> |2rd|amiyaFunRoute
    eugenRoot{"Eugen<br>as Sequence"}
    eugenFunRoute{"FunRoute<br>as PrioritySelector"}
    eugenParser[("Parser<br>as Action<br>write blackboard")]
    eugenRoot --> |1st|eugenParser
    eugenRoot --> |2rd|eugenFunRoute
    end
    router --> amiyaRoot
    router --> eugenRoot

    subgraph functionLayer
    weibo1["weibo<br>as Action"]
    weibo2["weibo<br>as Action"]
    amiyaChat["amiyaChat<br>as Action"]
    eugenChat["eugenChat<br>as Action"]
    end
    amiyaFunRoute --> weibo1
    amiyaFunRoute --> amiyaChat
    eugenFunRoute --> weibo2
    eugenFunRoute --> eugenChat

